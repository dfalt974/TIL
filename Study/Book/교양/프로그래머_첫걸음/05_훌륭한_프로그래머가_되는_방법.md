"당신의 코드를 관리하는 사람이 잔인한 사이코패스이고, 당신이 어디 사는지도 알고 있다고 생각하며 코딩하라." -존 우즈-



* 실무 코드 : 다른 사람이 사용하도록 배포하는 코드

프로그램을 실무 단계로 만든다는 것은 당신의 코드를 누구나 사용할 수 있게 된다는 뜻

cf) <실용주의 프로그래머> -앤디 헌트, 데이브 토마스-



* 코드 작성은 최후의 수단

  코드를 가능한 한 적게 쓰도록 노력

  '이걸 어떻게 해결하지?' -> '누군가가 이 문제를 이미 해결했다면, 그 답을 가져다 쓸 수 없을까?' -> 검색

  그 문제에 대해 이미 풀어 놓은 답이 없다고 확신했을 때에만 직접 코드를 작성

* DRY "Don't Repeat Yourself"

  프로그램에 같은, 또는 거의 같은 코드가 반복되어서는 안된다.

  비슷한 일 -> 함수를 만들어서 여러 상황에 대응

* 독립성 orthogonality

  "컴퓨터 공학에서 독립성이란 일종의 디커플링decoupling"

  두 개 이상의 객체가 있고, 그중 하나를 변경했을 때 다른 개체에 영향이 없다면 그들은 서로 독립적이다.

  시스템을 잘 설계했다면 데이터베이스 코드와 사용자 인터페이스는 서로 독립적일 것이다. 인터페이스를 변경해도 데이터베이스에는 아무 영향이 없고, 데이터베이스를 교체하더라도 인터페이스에는 아무 영향이 없다.

  모듈 a와 b가 있다면, a의 코드를 바꿀 때 b에 어떤 영향이 있을까 걱정하는 일이 있어서는 안된다.

  시스템을 설계할 때 a가 b의 영향을 받고, b는 c의 영향을 받고, c는 d의 영향을 받는다는 식으로 설계한다면 관리 뷸가능한 코드가 되는 것은 시간문제

  디커플링(decoupling) : 밀접하게 연결된 두 개체를 떼어 내서 접점을 제거

* 데이터에는 한 가지 표현만 존재해야 한다

  데이터를 여러 곳에 저장해서는 안 된다.

  중복된 데이터가 존재할 때 일어나는 가장 큰 문제는, 어느 시점에서든 데이터를 변경해야 할 때 그 데이터가 어디에 있는지 전부 알고 있어야 한다는 것

  데이터를 여기저기에 저장하지 않는 습관을 들이자

* 함수는 한 가지 일만 해야 한다

  모든 함수는 단 한 가지 일만 하도록 만들어야 한다. 함수가 너무 길어지는 것 같다면 그 함수가 여러 가지 일을 하고 있는 것은 아닌지 점검.

  => 함수의 이름만 봐도 그 함수가 무슨 일을 하는지 정확히 알 수 있으므로 코드를 읽기가 훨씬 편해지고 프로그램이 생각대로 동작하지 않을 때 문제가 있는 함수를 빨리 찾아내고 분석할 수 있다.

  "소프트웨어가 이렇게 복잡해진 것은 일석이조를 추구한 결과다"

* 너무 오래 걸린다면 실수한 것일 수 있다

  아주 복잡할 것이 분명한 작업, 예를 들어 거대한 데이터 세트를 다루는 상황이 아니라면, 프로그램이 오래 걸릴 경우 뭔가 잘못하고 있는 것은 아닌지 의심해야 한다.

* 처음부터 최선을 다하자

  프로그래밍을 하면서 '더 좋은 방법이 있다는 것은 알지만, 지금 한참 코딩하는 중이므로 이것을 멈추고 더 좋은 방법을 생각하고 싶지는 않다'라는 생각이 든다면, 당장 멈추고 지금 바로 더 좋은 방법을 사용한다.

* 관례를 따르자

  프로그래밍 언어를 새로 배울 때는 그 언어의 관례를 배우는 데 시간을 투자하자. 그 언어로 만들어진 코드를 더 빨리 읽을 수 있게 된다. PEP 8은 파이썬 코드 작성에 관한 가이드 모음이다. PEP 8에는 파이썬 코드 줄바꿈에 관한 규칙 등 다양한 가이드가 들어 있다.

  https://www.python.org/dev/peps/pep-0008/

* 좋은 IDE를 사용

  IDLE는 여러 IDE 중 하나일 뿐이고, 아주 좋은 IDE는 아니므로 다른 IDE를 사용하길 권장한다. 자신에게 가장 잘 맞는 IDE를 사용하여 작업 능률을 향상시키자.

  필자는 젯브레인JetBrains에서 만든 파이참PyCharm IDE를 사용한다. 

  파이참 기능

  1. 변수, 함수, 객체의 정의를 보고 싶을 때 해당 변수, 함수, 객체를 정의한 코드로 바로 이동하는 단축키가 있다. 해당 코드가 다른 파일에 있어도 바로 이동할 수 있다. 이동하기 전 페이지로 돌아가는 단축키도 있다.
  2. 파일 변경 내역을 자동으로 저장하는 기능이 있다.(생산성 향상) 프로젝트의 새 버전을 항상 자동 저장. 저장소에 푸시할 필요가 없는 버전 컨트롤 시스템 기능. 원하는 대로 상태 이동 가능.
  3. 코드 복붙 필요 없이 코드를 아래 위로 이동하는 기능
  4. 깃과 SVN 같은 버전 컨트롤 시스템 지원. 명령행으로 이동할 필요 없이 파이참에서 깃을 바로 사용할 수 있는 것. IDE와 명령행 사이를 왔다 갔다 하는 일이 적을 수록 생산성 향상
  5. 명령행과 파이썬 셸 내장
  6. 내장 디버거debugger. 디버거란 코드 실행을 잠시 멈추고 행 단위로 이동하면서, 변수가 이 부분에서는 이런 값이었고 저 부분에서는 져런 값이었다는 것을 확인하는 프로그램

  https://www.jetbrains.com/help/pycharm/2016.1/quick-start-guide.html

* 로그

  로그는 프로그램을 실행하는 동안 데이터를 기록하는 것

  로그를 만들면 디버그에 도움이 되고, 프로그램이 실행되는 동안 어떤 일이 일어나는지도 더 잘 알 수 있게 된다. 파이썬에는 콘솔이나 파일에 로그를 기록하는 logging 모듈이 있다.

  프로그램에 문제가 있을 때 모르는 채 넘어가지 않고 어떤 일이 일어났는지 로그에 기록해야 나중에 확인할 수 있다.

  로그는 데이터를 수집하고 분석할 때도 유용하다.

  ex) 웹 서버에서 요청을 받을 때마다 날짜, 시간을 포함해서 데이터를 기록해 두도록 만들 수 있는데 이 로그를 데이터베이스에 저장한 다음, 다른 프로그램을 만들어서 데이터를 분석하고 매일매일 웹 사이트에 몇 명이 방문했는지 그래프를 그릴 수도 있다.

  "훌륭한 프로그래머와 미숙한 프로그래머의 차이는 문제가 발생했을 때 디버그하기 쉽도록 로그를 남기느냐 아니냐의 차이다" -헨릭 와르네-

  파이썬 logging 모듈

  https://docs.python.org/3/howto/logging.html

* 테스트

  테스트는 프로그램이 "설계와 개발의 기준이 된 요건을 만족하는지, 모든 종류의 입력에 정확히 반응하는지, 납득할 수 있는 시간 안에 기능을 수행하는지, 충분히 사용하기 쉬운지, 의도한 환경에 설치하고 실행할 수 있는지, 이해 관계자들이 원하는 결과를 내는지 확인하는 프로그램"

  실무 환경에서는 테스트가 반드시 필요하며, 실무 프로그램은 테스트를 작성하기 전까지 미완성이라고 생각해야 한다.

  한 번 쓰면 끝인 프로그램에 테스트를 작성하는 건 시간 낭비지만 다른 사람이 사용할 프로그램이라면 테스트를 작성해야 한다.

  유명한 프로그래머들은 테스트하지 않은 코드는 깨진 코드라고 표현한다.

  https://docs.python.org/3/library/unittest.html 에서 파이썬의 unittest 모듈 사용법