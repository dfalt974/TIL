<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Interactive Web</title>
    <link rel="stylesheet" href="css/reset.css">
    <style>
        img {
            max-width: 100%;
        }

        .content {
            /* viewport height */
            /* 브라우저 높이의 10배 */
            height: 1000vh;
            padding: 20%;
            background: yellowgreen;
        }

        .output {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            font-size: 2rem;
            font-weight: 200;
            color: #fff;
            background: rgba(0, 0, 0, 0.4);
        }

        .ilbuni {
            width: 100px;
            margin: 20px auto;
            transition: 1s;
        }

        .ilbuni.zoom {
            transform: scale(2);
        }
    </style>
</head>

<body>
    <div class="output">output</div>
    <div class="content">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo culpa id ratione alias illum aliquam
            accusamus deleniti dolores dignissimos, temporibus iste perspiciatis voluptatem repudiandae debitis
            similique fugiat dolor, doloremque quos mollitia repellendus iure exercitationem molestiae ab! Veritatis
            harum voluptate enim ducimus amet vitae veniam dignissimos possimus facilis eaque minus similique, vel
            commodi sed? Sequi distinctio debitis numquam, necessitatibus officiis quam, sed rerum id culpa totam
            provident repellendus iste, laborum maiores, consequuntur fugiat voluptatibus? Ad, architecto. Ipsam minus
            quis, ea quas, ex impedit quia distinctio commodi expedita laudantium dolores cum? Quisquam, odit,
            laboriosam consequuntur expedita optio laudantium. Optio laboriosam, repellendus laborum.
        </p>
        <figure class="ilbuni">
            <img src="images/ilbuni_0.png" alt="일분이">
        </figure>
    </div>

    <script>
        (function () {
            const outputElem = document.querySelector('.output');
            const ilbuniElem = document.querySelector('.ilbuni');

            function showValue() {
                // pageYOffset 은 window 전역객체가 가진 속성 중 하나
                // 스크롤 얼마나 했는지 픽셀로 나타내줌
                // outputElem.innerHTML = window.pageYOffset;

                // offsetTop 은 처음 위치만 가져옴
                // outputElem.innerHTML = ilbuniElem.offsetTop;

                // 찍어보면 크기와 위치 가지고 있는 객체
                // 속성값 중 top 쓰면 됨
                // console.log(ilbuniElem.getBoundingClientRect());
                let posY = ilbuniElem.getBoundingClientRect().top;
                outputElem.innerHTML = posY;

                // console.log(window.innerHeight);
                // 스크롤하다가 브라우저 1/5 지점 지나는 순간 zoom
                if (posY < window.innerHeight * 0.2) {
                    ilbuniElem.classList.add('zoom');
                } else {
                    ilbuniElem.classList.remove('zoom');
                }
            }

            window.addEventListener('scroll', function () {
                showValue();
            });

            // 함수를 따로 만들었으니 이렇게 호출 가능
            showValue();

        })();
    </script>
</body>

</html>